{% extends "base.html" %}
{% load i18n static %}
{% load crispy_forms_tags %}
{% load crispy_forms_field %}

{% block content %}
    <h3>PASSWORD CHANGE</h3>
    <hr>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-11">
            <p>Please enter your old password, for securityâ€™s sake, and then enter your new password twice
                so we can verify you typed it in correctly.</p>
            <form method="post">
                {% csrf_token %}
                <div class="row">
                    <div class="col-md-8">
                        {% if form.errors %}
                            <p>
                                {% if form.errors.items|length == 1 %}
                                    {% translate "Please correct the error below." %}
                                {% else %}
                                    {% translate "Please correct the errors below." %}
                                {% endif %}
                            </p>
                        {% endif %}
                        <fieldset>
                            <div class="input-group mb-2">
                                {{ form.old_password.errors }}
                                <label class="input-group-text">
                                    {{ form.old_password.label_tag }}
                                </label>
                                {% crispy_field form.old_password 'class' 'form-control' %}
                            </div>
                            <div class="input-group mb-2">
                                {{ form.new_password1.errors }}
                                <label class="input-group-text">
                                    {{ form.new_password1.label_tag }}
                                </label>
                                {% crispy_field form.new_password1 'class' 'form-control' %}
                            </div>
                            {% if form.new_password1.help_text %}
                                    <div class="help">{{ form.new_password1.help_text|safe }}</div>
                                {% endif %}
                            <div class="input-group mb-2">
                                {{ form.new_password2.errors }}
                                <label class="input-group-text">
                                    {{ form.new_password2.label_tag }}
                                </label>
                                {% crispy_field form.new_password2 'class' 'form-control' %}
                            </div>
                            {% if form.new_password2.help_text %}
                                <div class="help">{{ form.new_password2.help_text|safe }}</div>
                            {% endif %}
                        </fieldset>
                        <div class="submit-row mt-2">
                            <input type="submit" value="Change my password"
                                   class="btn btn-outline-danger" style="float: right">
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
